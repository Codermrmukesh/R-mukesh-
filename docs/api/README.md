@puppeteer/replay

# @puppeteer/replay

## Table of contents

### References

- [AssertedEvent](README.md#assertedevent)
- [AssertedEventType](README.md#assertedeventtype)
- [AssertionStep](README.md#assertionstep)
- [BaseStep](README.md#basestep)
- [ChangeStep](README.md#changestep)
- [ClickAttributes](README.md#clickattributes)
- [ClickStep](README.md#clickstep)
- [CloseStep](README.md#closestep)
- [CustomStep](README.md#customstep)
- [CustomStepParams](README.md#customstepparams)
- [DoubleClickStep](README.md#doubleclickstep)
- [EmulateNetworkConditionsStep](README.md#emulatenetworkconditionsstep)
- [FrameSelector](README.md#frameselector)
- [HoverStep](README.md#hoverstep)
- [Key](README.md#key)
- [KeyDownStep](README.md#keydownstep)
- [KeyUpStep](README.md#keyupstep)
- [NavigateStep](README.md#navigatestep)
- [NavigationEvent](README.md#navigationevent)
- [Pattern](README.md#pattern)
- [PointerButtonType](README.md#pointerbuttontype)
- [PointerDeviceType](README.md#pointerdevicetype)
- [ScrollElementStep](README.md#scrollelementstep)
- [ScrollPageStep](README.md#scrollpagestep)
- [ScrollStep](README.md#scrollstep)
- [Selector](README.md#selector)
- [SelectorType](README.md#selectortype)
- [SetViewportStep](README.md#setviewportstep)
- [Step](README.md#step)
- [StepType](README.md#steptype)
- [StepWithFrame](README.md#stepwithframe)
- [StepWithSelectors](README.md#stepwithselectors)
- [StepWithTarget](README.md#stepwithtarget)
- [Target](README.md#target)
- [UserFlow](README.md#userflow)
- [UserStep](README.md#userstep)
- [WaitForElementStep](README.md#waitforelementstep)
- [WaitForExpressionStep](README.md#waitforexpressionstep)

### Namespaces

- [Schema](modules/Schema.md)

### Classes

- [JSONStringifyExtension](classes/JSONStringifyExtension.md)
- [LighthouseRunnerExtension](classes/LighthouseRunnerExtension.md)
- [LighthouseStringifyExtension](classes/LighthouseStringifyExtension.md)
- [PuppeteerReplayStringifyExtension](classes/PuppeteerReplayStringifyExtension.md)
- [PuppeteerRunnerExtension](classes/PuppeteerRunnerExtension.md)
- [PuppeteerRunnerOwningBrowserExtension](classes/PuppeteerRunnerOwningBrowserExtension.md)
- [PuppeteerStringifyExtension](classes/PuppeteerStringifyExtension.md)
- [Runner](classes/Runner.md)
- [RunnerExtension](classes/RunnerExtension.md)
- [StringifyExtension](classes/StringifyExtension.md)

### Interfaces

- [LineWriter](interfaces/LineWriter.md)
- [StringifyOptions](interfaces/StringifyOptions.md)

### Type Aliases

- [SourceMap](README.md#sourcemap)

### Variables

- [maxTimeout](README.md#maxtimeout)
- [minTimeout](README.md#mintimeout)
- [mouseButtonMap](README.md#mousebuttonmap)
- [pointerDeviceTypes](README.md#pointerdevicetypes)
- [typeableInputTypes](README.md#typeableinputtypes)

### Functions

- [assertAllStepTypesAreHandled](README.md#assertallsteptypesarehandled)
- [createRunner](README.md#createrunner)
- [formatAsJSLiteral](README.md#formatasjsliteral)
- [formatJSONAsJS](README.md#formatjsonasjs)
- [getSelectorType](README.md#getselectortype)
- [parse](README.md#parse)
- [parseSourceMap](README.md#parsesourcemap)
- [parseStep](README.md#parsestep)
- [selectorToPElementSelector](README.md#selectortopelementselector)
- [stringify](README.md#stringify)
- [stringifyStep](README.md#stringifystep)
- [stripSourceMap](README.md#stripsourcemap)
- [validTimeout](README.md#validtimeout)

## References

### AssertedEvent

Re-exports [AssertedEvent](modules/Schema.md#assertedevent)

---

### AssertedEventType

Re-exports [AssertedEventType](enums/Schema.AssertedEventType.md)

---

### AssertionStep

Re-exports [AssertionStep](modules/Schema.md#assertionstep)

---

### BaseStep

Re-exports [BaseStep](interfaces/Schema.BaseStep.md)

---

### ChangeStep

Re-exports [ChangeStep](interfaces/Schema.ChangeStep.md)

---

### ClickAttributes

Re-exports [ClickAttributes](interfaces/Schema.ClickAttributes.md)

---

### ClickStep

Re-exports [ClickStep](interfaces/Schema.ClickStep.md)

---

### CloseStep

Re-exports [CloseStep](interfaces/Schema.CloseStep.md)

---

### CustomStep

Re-exports [CustomStep](modules/Schema.md#customstep)

---

### CustomStepParams

Re-exports [CustomStepParams](interfaces/Schema.CustomStepParams.md)

---

### DoubleClickStep

Re-exports [DoubleClickStep](interfaces/Schema.DoubleClickStep.md)

---

### EmulateNetworkConditionsStep

Re-exports [EmulateNetworkConditionsStep](interfaces/Schema.EmulateNetworkConditionsStep.md)

---

### FrameSelector

Re-exports [FrameSelector](modules/Schema.md#frameselector)

---

### HoverStep

Re-exports [HoverStep](interfaces/Schema.HoverStep.md)

---

### Key

Re-exports [Key](modules/Schema.md#key)

---

### KeyDownStep

Re-exports [KeyDownStep](interfaces/Schema.KeyDownStep.md)

---

### KeyUpStep

Re-exports [KeyUpStep](interfaces/Schema.KeyUpStep.md)

---

### NavigateStep

Re-exports [NavigateStep](interfaces/Schema.NavigateStep.md)

---

### NavigationEvent

Re-exports [NavigationEvent](interfaces/Schema.NavigationEvent.md)

---

### Pattern

Re-exports [Pattern](modules/Schema.md#pattern)

---

### PointerButtonType

Re-exports [PointerButtonType](modules/Schema.md#pointerbuttontype)

---

### PointerDeviceType

Re-exports [PointerDeviceType](modules/Schema.md#pointerdevicetype)

---

### ScrollElementStep

Re-exports [ScrollElementStep](modules/Schema.md#scrollelementstep)

---

### ScrollPageStep

Re-exports [ScrollPageStep](interfaces/Schema.ScrollPageStep.md)

---

### ScrollStep

Re-exports [ScrollStep](modules/Schema.md#scrollstep)

---

### Selector

Re-exports [Selector](modules/Schema.md#selector)

---

### SelectorType

Re-exports [SelectorType](enums/Schema.SelectorType.md)

---

### SetViewportStep

Re-exports [SetViewportStep](interfaces/Schema.SetViewportStep.md)

---

### Step

Re-exports [Step](modules/Schema.md#step)

---

### StepType

Re-exports [StepType](enums/Schema.StepType.md)

---

### StepWithFrame

Re-exports [StepWithFrame](interfaces/Schema.StepWithFrame.md)

---

### StepWithSelectors

Re-exports [StepWithSelectors](interfaces/Schema.StepWithSelectors.md)

---

### StepWithTarget

Re-exports [StepWithTarget](interfaces/Schema.StepWithTarget.md)

---

### Target

Re-exports [Target](modules/Schema.md#target)

---

### UserFlow

Re-exports [UserFlow](interfaces/Schema.UserFlow.md)

---

### UserStep

Re-exports [UserStep](modules/Schema.md#userstep)

---

### WaitForElementStep

Re-exports [WaitForElementStep](interfaces/Schema.WaitForElementStep.md)

---

### WaitForExpressionStep

Re-exports [WaitForExpressionStep](interfaces/Schema.WaitForExpressionStep.md)

## Type Aliases

### SourceMap

Ƭ **SourceMap**: `number`[]

The format is [version, [lineNo, length], [lineNo, length] ... [lineNo, length]].

#### Defined in

[stringify.ts:35](https://github.com/puppeteer/replay/blob/main/src/stringify.ts#L35)

## Variables

### maxTimeout

• `Const` **maxTimeout**: `30000`

#### Defined in

[SchemaUtils.ts:563](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L563)

---

### minTimeout

• `Const` **minTimeout**: `1`

#### Defined in

[SchemaUtils.ts:562](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L562)

---

### mouseButtonMap

• `Const` **mouseButtonMap**: `ReadonlyMap`\<`string`, `"left"` \| `"middle"` \| `"right"` \| `"back"` \| `"forward"`\>

#### Defined in

[SchemaUtils.ts:70](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L70)

---

### pointerDeviceTypes

• `Const` **pointerDeviceTypes**: `ReadonlySet`\<`string`\>

#### Defined in

[SchemaUtils.ts:64](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L64)

---

### typeableInputTypes

• `Const` **typeableInputTypes**: `ReadonlySet`\<`string`\>

#### Defined in

[SchemaUtils.ts:53](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L53)

## Functions

### assertAllStepTypesAreHandled

▸ **assertAllStepTypesAreHandled**(`s`): `never`

#### Parameters

| Name | Type    |
| :--- | :------ |
| `s`  | `never` |

#### Returns

`never`

#### Defined in

[SchemaUtils.ts:48](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L48)

---

### createRunner

▸ **createRunner**(): `Promise`\<[`Runner`](classes/Runner.md)\>

#### Returns

`Promise`\<[`Runner`](classes/Runner.md)\>

#### Defined in

[Runner.ts:102](https://github.com/puppeteer/replay/blob/main/src/Runner.ts#L102)

▸ **createRunner**(`flow`): `Promise`\<[`Runner`](classes/Runner.md)\>

#### Parameters

| Name   | Type                                        |
| :----- | :------------------------------------------ |
| `flow` | [`UserFlow`](interfaces/Schema.UserFlow.md) |

#### Returns

`Promise`\<[`Runner`](classes/Runner.md)\>

#### Defined in

[Runner.ts:103](https://github.com/puppeteer/replay/blob/main/src/Runner.ts#L103)

▸ **createRunner**(`extension`): `Promise`\<[`Runner`](classes/Runner.md)\>

#### Parameters

| Name        | Type                                            |
| :---------- | :---------------------------------------------- |
| `extension` | [`RunnerExtension`](classes/RunnerExtension.md) |

#### Returns

`Promise`\<[`Runner`](classes/Runner.md)\>

#### Defined in

[Runner.ts:104](https://github.com/puppeteer/replay/blob/main/src/Runner.ts#L104)

▸ **createRunner**(`flow`, `extension`): `Promise`\<[`Runner`](classes/Runner.md)\>

#### Parameters

| Name        | Type                                            |
| :---------- | :---------------------------------------------- |
| `flow`      | [`UserFlow`](interfaces/Schema.UserFlow.md)     |
| `extension` | [`RunnerExtension`](classes/RunnerExtension.md) |

#### Returns

`Promise`\<[`Runner`](classes/Runner.md)\>

#### Defined in

[Runner.ts:105](https://github.com/puppeteer/replay/blob/main/src/Runner.ts#L105)

---

### formatAsJSLiteral

▸ **formatAsJSLiteral**(`content`): `string`

#### Parameters

| Name      | Type     |
| :-------- | :------- |
| `content` | `string` |

#### Returns

`string`

#### Defined in

[JSONUtils.ts:111](https://github.com/puppeteer/replay/blob/main/src/JSONUtils.ts#L111)

---

### formatJSONAsJS

▸ **formatJSONAsJS**(`json`, `indent`): `string`

Copyright (c) 2020 The Chromium Authors. All rights reserved.
Use of this source code is governed by a BSD-style license that can be
found in the LICENSE file.

#### Parameters

| Name     | Type      |
| :------- | :-------- |
| `json`   | `unknown` |
| `indent` | `string`  |

#### Returns

`string`

#### Defined in

[JSONUtils.ts:23](https://github.com/puppeteer/replay/blob/main/src/JSONUtils.ts#L23)

---

### getSelectorType

▸ **getSelectorType**(`selector`): [`SelectorType`](enums/Schema.SelectorType.md)

Detects what type of a selector the string contains. For example,
`aria/Label` is a SelectorType.ARIA.

Note that CSS selectors are special and usually don't require a prefix,
therefore, SelectorType.CSS is the default type if other types didn't match.

#### Parameters

| Name       | Type     |
| :--------- | :------- |
| `selector` | `string` |

#### Returns

[`SelectorType`](enums/Schema.SelectorType.md)

#### Defined in

[SchemaUtils.ts:615](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L615)

---

### parse

▸ **parse**(`data`): [`UserFlow`](interfaces/Schema.UserFlow.md)

#### Parameters

| Name   | Type      |
| :----- | :-------- |
| `data` | `unknown` |

#### Returns

[`UserFlow`](interfaces/Schema.UserFlow.md)

#### Defined in

[SchemaUtils.ts:571](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L571)

---

### parseSourceMap

▸ **parseSourceMap**(`text`): [`SourceMap`](README.md#sourcemap) \| `undefined`

Extracts a source map from a text.

#### Parameters

| Name   | Type     |
| :----- | :------- |
| `text` | `string` |

#### Returns

[`SourceMap`](README.md#sourcemap) \| `undefined`

#### Defined in

[stringify.ts:109](https://github.com/puppeteer/replay/blob/main/src/stringify.ts#L109)

---

### parseStep

▸ **parseStep**(`step`, `idx?`): [`Step`](modules/Schema.md#step)

#### Parameters

| Name   | Type      |
| :----- | :-------- |
| `step` | `unknown` |
| `idx?` | `number`  |

#### Returns

[`Step`](modules/Schema.md#step)

#### Defined in

[SchemaUtils.ts:495](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L495)

---

### selectorToPElementSelector

▸ **selectorToPElementSelector**(`selector`): `string`

Converts a selector or an array of selector parts into a Puppeteer selector.

#### Parameters

| Name       | Type                   |
| :--------- | :--------------------- |
| `selector` | `string` \| `string`[] |

#### Returns

`string`

**`See`**

https://pptr.dev/guides/query-selectors#p-elements

#### Defined in

[SchemaUtils.ts:629](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L629)

---

### stringify

▸ **stringify**(`flow`, `opts?`): `Promise`\<`string`\>

Stringifes an entire recording. The following hooks are invoked with the `flow` parameter containing the entire flow:

- `beforeAllSteps` (once)
- `beforeEachStep` (per step)
- `stringifyStep` (per step)
- `afterEachStep` (per step)
- `afterAllSteps` (once)

#### Parameters

| Name    | Type                                                 |
| :------ | :--------------------------------------------------- |
| `flow`  | [`UserFlow`](interfaces/Schema.UserFlow.md)          |
| `opts?` | [`StringifyOptions`](interfaces/StringifyOptions.md) |

#### Returns

`Promise`\<`string`\>

#### Defined in

[stringify.ts:45](https://github.com/puppeteer/replay/blob/main/src/stringify.ts#L45)

---

### stringifyStep

▸ **stringifyStep**(`step`, `opts?`): `Promise`\<`string`\>

Stringifes a single step. Only the following hooks are invoked with the `flow` parameter as undefined:

- `beforeEachStep`
- `stringifyStep`
- `afterEachStep`

#### Parameters

| Name    | Type                                                 |
| :------ | :--------------------------------------------------- |
| `step`  | [`Step`](modules/Schema.md#step)                     |
| `opts?` | [`StringifyOptions`](interfaces/StringifyOptions.md) |

#### Returns

`Promise`\<`string`\>

#### Defined in

[stringify.ts:79](https://github.com/puppeteer/replay/blob/main/src/stringify.ts#L79)

---

### stripSourceMap

▸ **stripSourceMap**(`text`): `string`

#### Parameters

| Name   | Type     |
| :----- | :------- |
| `text` | `string` |

#### Returns

`string`

#### Defined in

[stringify.ts:120](https://github.com/puppeteer/replay/blob/main/src/stringify.ts#L120)

---

### validTimeout

▸ **validTimeout**(`timeout`): `boolean`

#### Parameters

| Name      | Type     |
| :-------- | :------- |
| `timeout` | `number` |

#### Returns

`boolean`

#### Defined in

[SchemaUtils.ts:567](https://github.com/puppeteer/replay/blob/main/src/SchemaUtils.ts#L567)
